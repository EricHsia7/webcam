<meta charset="UTF-8">
<title>相機</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/webcamjs/1.0.26/webcam.min.js"></script>
<style>
	body {
		padding:0px;
		margin:0px;
		background:#000;
		overflow:hidden;
	}
#my_camera video {
width:auto;
height:auto;
 max-width:100%;
 max-height:100%;
position:fixed;
left:50%;
top:50%;
transform:translate(-50%,-50%);
	}
	.bottom {
		position:fixed;
		left:0px;
		bottom:0px;
		width:100%;
		height:var(--gbh-h);
		background:#fff;
	}
	.tt {
		width:80px;
		height:80px;
		border-radius:99em;
		position:fixed;
		left:50%;
		bottom:30px;
		transform:translateX(-50%);
		background:#fff;
	}
	#my_camera {
overflow:hidden;
	}
	</style>
<video autoplay="autoplay" playsinline="playsinline" class="lp"></video>

<div style="position:fixed;top:0px;left:0px;background:rgba(0, 0, 0, 0);width:100%;height:100%;overflow:hidden;">
	<div id="my_camera">
<video autoplay="autoplay" playsinline="playsinline"></video>
</div>
</div>
<div class="tt"></div>
	<script>
		
		Webcam.set({
			width:1024,
			height:1356,
			image_format: 'jpeg',
			jpeg_quality: 45,
			constraints: {
video: true,
facingMode: "environment"
}
		});
		Webcam.attach( '#my_camera' );
		//document.querySelector('#my_camera').width = window.width ;
	</script>
	
	<script>
		//$(".bottom").css('height':($(window).heiht()-$('video').height())/2});
		function genid(mode) {
if(mode === "random"){
var genidchars = "0123456789abcdefghijklmnopqrstuvwxyz";
            var genid = "";
            for (var i = 0; i < 16; i++) {
                var genrandomNumber = Math.floor(Math.random() * genidchars.length);
                genid += genidchars.substring(genrandomNumber, genrandomNumber + 1);
            }
  return genid ;
}
          
 if(mode === "time"){
   var gtoday=new Date();
   var genid2 = (gtoday.getMonth()+1) + '_' + gtoday.getDate() + '_' + gtoday.getHours() + '_' + gtoday.getMinutes() + '_' + gtoday.getSeconds() + '-' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8));
   
   return genid2
 }
  
  if(mode === "number"){
   
   var genid3 = '' ;
for (var i = 0; i < 16; i++) {
  genid3 += '' + (0+Math.floor(Math.random() * 9))
}
   return genid3
 }
  
  if(mode === "uuid"){
var genidchars4 = "abcdef012345678";
    var geniduu = [8,4,4,4,12];
            var genid4 = "";
            var genid5 = "";
    for (var ia = 0; ia < geniduu.length; ia++) {
      var genid4 = "";
            for (var i = 0; i < geniduu[ia]; i++) {
                var genrandomNumber4 = Math.floor(Math.random() * genidchars4.length);
                genid4 += genidchars4.substring(genrandomNumber4, genrandomNumber4 + 1);
            }
genid5 += '-' + genid4 ;
    }
    return genid5.substring(1,genid5.length)
  }

}
		function take_snapshot() {
			var dlid = genid('random');
			var filename = genid('uuid');
			// take snapshot and get image data
			Webcam.snap( function(data_uri) {
				
				
		var link = document.createElement("a");
                document.body.appendChild(link);
                link.download = filename + ".jpeg";
                link.href = data_uri;
                link.target = '_blank';
                link.click();
			} );
		}
		$('.tt').click(function() {
			take_snapshot();
		});
		
	</script>
